import{aK as Z,d as I,a as r,b as s,w as m,j as N,M as ee,aL as ae,u as t,T as te,p as P,c as p,r as V,P as D,o as ie,k as f,f as B,h as c,am as se,g as v,i as g,t as C,m as ne,aj as oe,n as le,l as de,X as re,ar as M}from"./index-B7qKn0L6.js";import{_,u as U,c as j,b as ce,d as ue}from"./base-BJiYoXGy.js";import{al as ve,y as k,w as S,$ as H,_ as A,U as $,a0 as pe,i as w,a5 as fe,Y as me,a9 as he,a1 as ye,F as ge,E as h,t as be,a7 as Te}from"./el-col-rwzHaZ_z.js";const $e=(i="")=>i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),ze=i=>Z(i),we=I({name:"ElCollapseTransition"}),ke=I({...we,setup(i){const E=U("collapse-transition"),u=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},n={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){u(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){u(e)},leaveCancelled(e){u(e)}};return(e,z)=>(s(),r(te,ee({name:t(E).b()},ae(n)),{default:m(()=>[N(e.$slots,"default")]),_:3},16,["name"]))}});var Ie=_(ke,[["__file","collapse-transition.vue"]]);const Oe=j(Ie),Ee=i=>["",...ve].includes(i),Pe=ce({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Ee},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:w},activeActionIcon:{type:w},activeIcon:{type:w},inactiveIcon:{type:w},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:ue(Function)},id:String,tabindex:{type:[String,Number]},...pe(["ariaLabel"])}),Ve={[$]:i=>k(i)||P(i)||S(i),[A]:i=>k(i)||P(i)||S(i),[H]:i=>k(i)||P(i)||S(i)},x="ElSwitch",Be=I({name:x}),Ce=I({...Be,props:Pe,emits:Ve,setup(i,{expose:E,emit:u}){const n=i,{formItem:e}=fe(),z=me(),o=U("switch"),{inputId:R}=he(n,{formItemContext:e}),b=ye(p(()=>n.loading)),O=V(n.modelValue!==!1),y=V(),q=V(),G=p(()=>[o.b(),o.m(z.value),o.is("disabled",b.value),o.is("checked",l.value)]),W=p(()=>[o.e("label"),o.em("label","left"),o.is("active",!l.value)]),X=p(()=>[o.e("label"),o.em("label","right"),o.is("active",l.value)]),Y=p(()=>({width:ge(n.width)}));D(()=>n.modelValue,()=>{O.value=!0});const F=p(()=>O.value?n.modelValue:!1),l=p(()=>F.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(F.value)||(u($,n.inactiveValue),u(A,n.inactiveValue),u(H,n.inactiveValue)),D(l,a=>{var d;y.value.checked=a,n.validateEvent&&((d=e==null?void 0:e.validate)==null||d.call(e,"change").catch(Q=>Te()))});const T=()=>{const a=l.value?n.inactiveValue:n.activeValue;u($,a),u(A,a),u(H,a),re(()=>{y.value.checked=l.value})},K=()=>{if(b.value)return;const{beforeChange:a}=n;if(!a){T();return}const d=a();[M(d),k(d)].includes(!0)||be(x,"beforeChange must return type `Promise<boolean>` or `boolean`"),M(d)?d.then(L=>{L&&T()}).catch(L=>{}):d&&T()},J=()=>{var a,d;(d=(a=y.value)==null?void 0:a.focus)==null||d.call(a)};return ie(()=>{y.value.checked=l.value}),E({focus:J,checked:l}),(a,d)=>(s(),f("div",{class:v(t(G)),onClick:de(K,["prevent"])},[B("input",{id:t(R),ref_key:"input",ref:y,class:v(t(o).e("input")),type:"checkbox",role:"switch","aria-checked":t(l),"aria-disabled":t(b),"aria-label":a.ariaLabel,name:a.name,"true-value":a.activeValue,"false-value":a.inactiveValue,disabled:t(b),tabindex:a.tabindex,onChange:T,onKeydown:se(K,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!a.inlinePrompt&&(a.inactiveIcon||a.inactiveText)?(s(),f("span",{key:0,class:v(t(W))},[a.inactiveIcon?(s(),r(t(h),{key:0},{default:m(()=>[(s(),r(g(a.inactiveIcon)))]),_:1})):c("v-if",!0),!a.inactiveIcon&&a.inactiveText?(s(),f("span",{key:1,"aria-hidden":t(l)},C(a.inactiveText),9,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0),B("span",{ref_key:"core",ref:q,class:v(t(o).e("core")),style:le(t(Y))},[a.inlinePrompt?(s(),f("div",{key:0,class:v(t(o).e("inner"))},[a.activeIcon||a.inactiveIcon?(s(),r(t(h),{key:0,class:v(t(o).is("icon"))},{default:m(()=>[(s(),r(g(t(l)?a.activeIcon:a.inactiveIcon)))]),_:1},8,["class"])):a.activeText||a.inactiveText?(s(),f("span",{key:1,class:v(t(o).is("text")),"aria-hidden":!t(l)},C(t(l)?a.activeText:a.inactiveText),11,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0),B("div",{class:v(t(o).e("action"))},[a.loading?(s(),r(t(h),{key:0,class:v(t(o).is("loading"))},{default:m(()=>[ne(t(oe))]),_:1},8,["class"])):t(l)?N(a.$slots,"active-action",{key:1},()=>[a.activeActionIcon?(s(),r(t(h),{key:0},{default:m(()=>[(s(),r(g(a.activeActionIcon)))]),_:1})):c("v-if",!0)]):t(l)?c("v-if",!0):N(a.$slots,"inactive-action",{key:2},()=>[a.inactiveActionIcon?(s(),r(t(h),{key:0},{default:m(()=>[(s(),r(g(a.inactiveActionIcon)))]),_:1})):c("v-if",!0)])],2)],6),!a.inlinePrompt&&(a.activeIcon||a.activeText)?(s(),f("span",{key:1,class:v(t(X))},[a.activeIcon?(s(),r(t(h),{key:0},{default:m(()=>[(s(),r(g(a.activeIcon)))]),_:1})):c("v-if",!0),!a.activeIcon&&a.activeText?(s(),f("span",{key:1,"aria-hidden":!t(l)},C(a.activeText),9,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0)],10,["onClick"]))}});var Se=_(Ce,[["__file","switch.vue"]]);const Fe=j(Se);export{Oe as E,Fe as a,ze as c,$e as e};
